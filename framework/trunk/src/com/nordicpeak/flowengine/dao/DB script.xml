<DBScripts>
	<Script version="1">
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_types` (
				  `flowTypeID` INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
				  `name` VARCHAR(255) NOT NULL,
				  PRIMARY KEY (`flowTypeID`)
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_type_admin_groups` (
				  `flowTypeID` INTEGER UNSIGNED NOT NULL,
				  `groupID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`flowTypeID`, `groupID`),
				  CONSTRAINT `FK_flowengine_flow_type_admin_groups_1` FOREIGN KEY `FK_flowengine_flow_type_admin_groups_1` (`flowTypeID`)
				    REFERENCES `flowengine_flow_types` (`flowTypeID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_type_admin_users` (
				  `flowTypeID` INTEGER UNSIGNED NOT NULL,
				  `userID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`flowTypeID`, `userID`),
				  CONSTRAINT `FK_flowengine_flow_type_admin_users_1` FOREIGN KEY `FK_flowengine_flow_type_admin_users_1` (`flowTypeID`)
				    REFERENCES `flowengine_flow_types` (`flowTypeID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_type_allowed_queries` (
				  `flowTypeID` INTEGER UNSIGNED NOT NULL,
				  `queryTypeID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`flowTypeID`, `queryTypeID`),
				  CONSTRAINT `FK_flowengine_flow_type_allowed_queries_1` FOREIGN KEY `FK_flowengine_flow_type_allowed_queries_1` (`flowTypeID`)
				    REFERENCES `flowengine_flow_types` (`flowTypeID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE  `flowengine_flow_categories` (
				  `flowCategoryID` int(10) unsigned NOT NULL AUTO_INCREMENT,
				  `name` varchar(255) NOT NULL,
				  `flowTypeID` int(10) unsigned NOT NULL,
				  PRIMARY KEY (`flowCategoryID`),
				  KEY `FK_flowengine_flow_categories_1` (`flowTypeID`),
				  CONSTRAINT `FK_flowengine_flow_categories_1` FOREIGN KEY (`flowTypeID`) REFERENCES `flowengine_flow_types` (`flowTypeID`) ON DELETE CASCADE ON UPDATE CASCADE
				) ENGINE=InnoDB DEFAULT CHARSET=latin1;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flows` (
				  `flowID` int(10) unsigned NOT NULL AUTO_INCREMENT,
				  `name` varchar(255) NOT NULL,
				  `shortDescription` text NOT NULL,
				  `longDescription` longtext NOT NULL,
				  `iconFileName` varchar(255) DEFAULT NULL,
				  `icon` blob,
				  `publishDate` date DEFAULT NULL,
				  `unPublishDate` date DEFAULT NULL,
				  `flowTypeID` int(10) unsigned NOT NULL,
				  `flowCategoryID` int(10) unsigned DEFAULT NULL,
				  PRIMARY KEY (`flowID`),
				  KEY `FK_flowengine_flows_2` (`flowCategoryID`),
				  KEY `FK_flowengine_flows_1` (`flowTypeID`),
				  CONSTRAINT `FK_flowengine_flows_1` FOREIGN KEY (`flowTypeID`) REFERENCES `flowengine_flow_types` (`flowTypeID`),
				  CONSTRAINT `FK_flowengine_flows_2` FOREIGN KEY (`flowCategoryID`) REFERENCES `flowengine_flow_categories` (`flowCategoryID`)
				) ENGINE=InnoDB DEFAULT CHARSET=latin1;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_steps` (
				  `stepID` INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
				  `name` VARCHAR(255) NOT NULL,
				  `index` INTEGER UNSIGNED NOT NULL,
				  `flowID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`stepID`),
				  CONSTRAINT `FK_flowengine_steps_1` FOREIGN KEY `FK_flowengine_steps_1` (`flowID`)
				    REFERENCES `flowengine_flows` (`flowID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_categories` ADD COLUMN `index` INTEGER UNSIGNED NOT NULL AFTER `flowTypeID`;		
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_instances` (
				  `flowInstanceID` INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
				  `poster` INTEGER UNSIGNED NOT NULL,
				  `added` TIMESTAMP NOT NULL,
				  `editor` INTEGER UNSIGNED,
				  `updated` TIMESTAMP,
				  `fullyPopulated` BOOLEAN NOT NULL,
				  `flowID` INTEGER UNSIGNED NOT NULL,
				  `stepID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`flowInstanceID`),
				  CONSTRAINT `FK_flowengine_flow_instances_1` FOREIGN KEY `FK_flowengine_flow_instances_1` (`flowID`)
				    REFERENCES `flowengine_flows` (`flowID`)
				    ON DELETE RESTRICT
				    ON UPDATE RESTRICT,
				  CONSTRAINT `FK_flowengine_flow_instances_2` FOREIGN KEY `FK_flowengine_flow_instances_2` (`stepID`)
				    REFERENCES `flowengine_steps` (`stepID`)
				    ON DELETE RESTRICT
				    ON UPDATE RESTRICT
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_query_descriptors` (
				  `queryID` INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
				  `name` VARCHAR(255) NOT NULL,
				  `index` INTEGER UNSIGNED NOT NULL,
				  `defaultQueryState` VARCHAR(45) NOT NULL,
				  `stepID` INTEGER UNSIGNED NOT NULL,
				  `queryTypeID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`queryID`),
				  CONSTRAINT `FK_flowengine_query_descriptors_1` FOREIGN KEY `FK_flowengine_query_descriptors_1` (`stepID`)
				    REFERENCES `flowengine_steps` (`stepID`)
				    ON DELETE CASCADE
				    ON UPDATE RESTRICT
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_query_instance_descriptors` (
				  `queryInstanceID` INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
				  `queryState` VARCHAR(45) NOT NULL,
				  `values` BOOLEAN NOT NULL,
				  `flowInstanceID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`queryInstanceID`),
				  CONSTRAINT `FK_flowengine_query_instance_descriptors_1` FOREIGN KEY `FK_flowengine_query_instance_descriptors_1` (`flowInstanceID`)
				    REFERENCES `flowengine_flow_instances` (`flowInstanceID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_states` (
				  `flowStateID` INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
				  `name` VARCHAR(255) NOT NULL,
				  `isUserMutable` BOOLEAN NOT NULL,
				  `isAdminMutable` BOOLEAN NOT NULL,
				  `isArchived` BOOLEAN NOT NULL,
				  `flowID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`flowStateID`),
				  CONSTRAINT `FK_flowengine_flow_states_1` FOREIGN KEY `FK_flowengine_flow_states_1` (`flowID`)
				    REFERENCES `flowengine_flows` (`flowID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `disabled` BOOLEAN NOT NULL AFTER `flowCategoryID`;
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_instances` MODIFY COLUMN `updated` TIMESTAMP NULL;
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_instances` MODIFY COLUMN `added` TIMESTAMP NULL;
			]]>
		</Query>
	</Script>
	
	<Script version="2">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_query_instance_descriptors` ADD COLUMN `queryID` INTEGER UNSIGNED NOT NULL AFTER `flowInstanceID`,
				 ADD CONSTRAINT `FK_flowengine_query_instance_descriptors_2` FOREIGN KEY `FK_flowengine_query_instance_descriptors_2` (`queryID`)
				    REFERENCES `flowengine_query_descriptors` (`queryID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE;
			]]>
		</Query>
	</Script>
	
	<Script version="3">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_steps` CHANGE COLUMN `index` `sortIndex` INT(10) UNSIGNED NOT NULL;
			]]>
		</Query>
		
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_query_descriptors` CHANGE COLUMN `index` `sortIndex` INT(10) UNSIGNED NOT NULL;
			]]>
		</Query>
	</Script>
	
	<Script version="4">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_types` ADD COLUMN `description` TEXT NOT NULL AFTER `name`;
				
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_categories` CHANGE COLUMN `index` `sortIndex` INT(10) UNSIGNED NOT NULL;
			]]>
		</Query>
	</Script>
	
	<Script version="5">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `usePreview` BOOLEAN NOT NULL AFTER `disabled`,
				 ADD COLUMN `submittedMessage` LONGTEXT NOT NULL AFTER `longDescription`;
			]]>
		</Query>
	</Script>
			
	<Script version="6">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_instances` ADD COLUMN `flowStateID` INTEGER UNSIGNED AFTER `stepID`,
				 ADD CONSTRAINT `FK_flowengine_flow_instances_3` FOREIGN KEY `FK_flowengine_flow_instances_3` (`flowStateID`)
				    REFERENCES `flowengine_flow_states` (`flowStateID`)
				    ON DELETE RESTRICT
				    ON UPDATE RESTRICT;
			]]>
		</Query>
	</Script>
	
	<Script version="7">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_query_instance_descriptors` CHANGE COLUMN `values` `populated` TINYINT(1) NOT NULL;				
			]]>
		</Query>
	</Script>
	
	<Script version="8">
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_actions` (
				  `actionID` VARCHAR(255) NOT NULL,
				  `name` VARCHAR(255) NOT NULL,
				  PRIMARY KEY (`actionID`)
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_default_flow_states` (
				  `actionID` VARCHAR(255) NOT NULL,
				  `flowID` INTEGER UNSIGNED NOT NULL,
				  `flowStateID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`actionID`, `flowID`),
				  CONSTRAINT `FK_flowengine_default_flow_states_1` FOREIGN KEY `FK_flowengine_default_flow_states_1` (`actionID`)
				    REFERENCES `flowengine_flow_actions` (`actionID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE,
				  CONSTRAINT `FK_flowengine_default_flow_states_2` FOREIGN KEY `FK_flowengine_default_flow_states_2` (`flowID`)
				    REFERENCES `flowengine_flows` (`flowID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE,
				  CONSTRAINT `FK_flowengine_default_flow_states_3` FOREIGN KEY `FK_flowengine_default_flow_states_3` (`flowStateID`)
				    REFERENCES `flowengine_flow_states` (`flowStateID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
	</Script>
	
	<Script version="9">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_instances` MODIFY COLUMN `poster` INT(10) UNSIGNED DEFAULT NULL;
			]]>
		</Query>
	</Script>
	
	<Script version="10">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` CHANGE COLUMN `disabled` `enabled` TINYINT(1) NOT NULL;
			]]>
		</Query>
	</Script>
			
	<Script version="11">
		<Query forceCommit="true">
			<![CDATA[
				ALTER TABLE `flowengine_flow_states` RENAME TO `flowengine_flow_statuses`,
				 CHANGE COLUMN `flowStateID` `flowStatusID` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
				 CHANGE COLUMN `isArchived` `contentType` VARCHAR(15) NOT NULL,
				 ADD COLUMN `isUserDeletable` BOOLEAN NOT NULL AFTER `flowID`,
				 ADD COLUMN `isAdminDeletable` BOOLEAN NOT NULL AFTER `isUserDeletable`,
				 DROP PRIMARY KEY,
				 ADD PRIMARY KEY  USING BTREE(`flowStatusID`);
			]]>
		</Query>
		<Query forceCommit="true">
			<![CDATA[
				ALTER TABLE `flowengine_flow_instances` CHANGE COLUMN `flowStateID` `flowStatusID` INT(10) UNSIGNED DEFAULT NULL,
				 DROP INDEX `FK_flowengine_flow_instances_3`,
				 ADD INDEX `FK_flowengine_flow_instances_3` USING BTREE(`flowStatusID`),
				 DROP FOREIGN KEY `FK_flowengine_flow_instances_3`;
			]]>
		</Query>
		
		<Query forceCommit="true">
			<![CDATA[
				ALTER TABLE `flowengine_flow_instances` ADD CONSTRAINT `FK_flowengine_flow_instances_3` FOREIGN KEY `FK_flowengine_flow_instances_3` (`flowStatusID`)
				    REFERENCES `flowengine_flow_statuses` (`flowStatusID`)
				    ON DELETE RESTRICT
				    ON UPDATE RESTRICT;
			]]>
		</Query>
		<Query forceCommit="true">
			<![CDATA[
				ALTER TABLE `flowengine_default_flow_states` CHANGE COLUMN `flowStateID` `flowStatusID` INT(10) UNSIGNED NOT NULL,
				 DROP INDEX `FK_flowengine_default_flow_states_3`,
				 ADD INDEX `FK_flowengine_default_flow_states_3` USING BTREE(`flowStatusID`),
				 DROP FOREIGN KEY `FK_flowengine_default_flow_states_3`;
			]]>
		</Query>
		<Query forceCommit="true">
			<![CDATA[
				ALTER TABLE `flowengine_default_flow_states` ADD CONSTRAINT `FK_flowengine_default_flow_states_3` FOREIGN KEY `FK_flowengine_default_flow_states_3` (`flowStatusID`)
				    REFERENCES `flowengine_flow_statuses` (`flowStatusID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE;
			]]>
		</Query>
		<Query forceCommit="true">
			<![CDATA[
				ALTER TABLE `flowengine_default_flow_states` RENAME TO `flowengine_default_flow_statuses`;
			]]>
		</Query>
		<Query forceCommit="true">
			<![CDATA[
				ALTER TABLE `flowengine_flows` CHANGE COLUMN `flowCategoryID` `categoryID` INT(10) UNSIGNED DEFAULT NULL,
				 DROP INDEX `FK_flowengine_flows_2`,
				 ADD INDEX `FK_flowengine_flows_2` USING BTREE(`categoryID`),
				 DROP FOREIGN KEY `FK_flowengine_flows_2`;
			]]>
		</Query>
		<Query forceCommit="true">
			<![CDATA[
				ALTER TABLE `flowengine_flow_categories` CHANGE COLUMN `flowCategoryID` `categoryID` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
				 DROP PRIMARY KEY,
				 ADD PRIMARY KEY  USING BTREE(`categoryID`);
			]]>
		</Query>
		<Query forceCommit="true">
			<![CDATA[
				ALTER TABLE `flowengine_flows` ADD CONSTRAINT `FK_flowengine_flows_2` FOREIGN KEY `FK_flowengine_flows_2` (`categoryID`)
				    REFERENCES `flowengine_flow_categories` (`categoryID`)
				    ON DELETE SET NULL
				    ON UPDATE SET NULL;
			]]>
		</Query>
		<Query forceCommit="true">
			<![CDATA[
				ALTER TABLE `flowengine_flow_instances` MODIFY COLUMN `flowStatusID` INT(10) UNSIGNED NOT NULL;
			]]>
		</Query>
		<Query forceCommit="true">
			<![CDATA[
				ALTER TABLE `flowengine_flow_instances` CHANGE COLUMN `flowStatusID` `statusID` INT(10) UNSIGNED NOT NULL,
				 DROP INDEX `FK_flowengine_flow_instances_3`,
				 ADD INDEX `FK_flowengine_flow_instances_3` USING BTREE(`statusID`),
				 DROP FOREIGN KEY `FK_flowengine_flow_instances_3`;
			]]>
		</Query>
		<Query forceCommit="true">
			<![CDATA[
				ALTER TABLE `flowengine_default_flow_statuses` CHANGE COLUMN `flowStatusID` `statusID` INT(10) UNSIGNED NOT NULL,
				 DROP INDEX `FK_flowengine_default_flow_states_3`,
				 ADD INDEX `FK_flowengine_default_flow_states_3` USING BTREE(`statusID`),
				 DROP FOREIGN KEY `FK_flowengine_default_flow_states_3`;
			]]>
		</Query>
		<Query forceCommit="true">
			<![CDATA[
				ALTER TABLE `flowengine_flow_statuses` CHANGE COLUMN `flowStatusID` `statusID` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
				 DROP PRIMARY KEY,
				 ADD PRIMARY KEY  USING BTREE(`statusID`);
			]]>
		</Query>
		<Query forceCommit="true">
			<![CDATA[
			ALTER TABLE `flowengine_flow_instances` ADD CONSTRAINT `FK_flowengine_flow_instances_3` FOREIGN KEY `FK_flowengine_flow_instances_3` (`statusID`)
			    REFERENCES `flowengine_flow_statuses` (`statusID`)
			    ON DELETE RESTRICT
			    ON UPDATE RESTRICT;
			]]>
		</Query>
		<Query forceCommit="true">
			<![CDATA[
			ALTER TABLE `flowengine_default_flow_statuses` ADD CONSTRAINT `FK_flowengine_default_flow_statuses_3` FOREIGN KEY `FK_flowengine_default_flow_statuses_3` (`statusID`)
			    REFERENCES `flowengine_flow_statuses` (`statusID`)
			    ON DELETE CASCADE
			    ON UPDATE CASCADE;
			]]>
		</Query>
	</Script>
	
 	<Script version="12">
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_evaluator_descriptors` (
				  `evaluatorID` INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
				  `name` VARCHAR(255) NOT NULL,
				  `sortIndex` INTEGER UNSIGNED NOT NULL,
				  `evaluatorTypeID` INTEGER UNSIGNED NOT NULL,
				  `enabled` BOOLEAN NOT NULL,
				  `queryID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`evaluatorID`),
				  CONSTRAINT `FK_flowengine_evaluator_descriptors_1` FOREIGN KEY `FK_flowengine_evaluator_descriptors_1` (`queryID`)
				    REFERENCES `flowengine_query_descriptors` (`queryID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
	</Script>
	
 	<Script version="13">
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_evaluators_target_queries` (
				  `evaluatorID` INTEGER UNSIGNED NOT NULL,
				  `queryID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`evaluatorID`, `queryID`),
				  CONSTRAINT `FK_flowengine_evaluators_target_queries_1` FOREIGN KEY `FK_flowengine_evaluators_target_queries_1` (`evaluatorID`)
				    REFERENCES `flowengine_evaluator_descriptors` (`evaluatorID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
	</Script>
 	
 	<Script version="14">
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_families` (
				  `flowFamilyID` INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
				  `versionCount` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`flowFamilyID`)
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		
		<Query>
			<![CDATA[
				INSERT INTO flowengine_flow_families (flowFamilyID, versionCount) SELECT flowID as flowFamilyID, 1 FROM flowengine_flows;
			]]>
		</Query>
		
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `flowFamilyID` INTEGER UNSIGNED NOT NULL AFTER `usePreview`,
				 ADD COLUMN `version` INTEGER UNSIGNED NOT NULL AFTER `flowFamilyID`;
			]]>
		</Query>

		<Query>
			<![CDATA[
				UPDATE flowengine_flows SET flowFamilyID = flowID;
			]]>
		</Query>
		
		<Query>
			<![CDATA[
				UPDATE flowengine_flows SET version = 1;
			]]>
		</Query>
		
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` ADD CONSTRAINT `FK_flowengine_flows_3` FOREIGN KEY `FK_flowengine_flows_3` (`flowFamilyID`)
				    REFERENCES `flowengine_flow_families` (`flowFamilyID`)
				    ON DELETE RESTRICT
				    ON UPDATE RESTRICT;
			]]>
		</Query>
	</Script>
	
 	<Script version="15">
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_standard_statuses` (
				  `statusID` INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
				  `name` VARCHAR(255) NOT NULL,
				  `isUserMutable` BOOLEAN NOT NULL,
				  `isUserDeletable` BOOLEAN NOT NULL,
				  `isAdminMutable` BOOLEAN NOT NULL,
				  `isAdminDeletable` BOOLEAN NOT NULL,
				  `contentType` VARCHAR(45) NOT NULL,
				  PRIMARY KEY (`statusID`)
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_default_standard_statuses` (
				  `actionID` VARCHAR(255) NOT NULL,
				  `statusID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`actionID`, `statusID`),
				  CONSTRAINT `FK_flowengine_default_standard_statuses_1` FOREIGN KEY `FK_flowengine_default_standard_statuses_1` (`actionID`)
				    REFERENCES `flowengine_flow_actions` (`actionID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE,
				  CONSTRAINT `FK_flowengine_default_standard_statuses_2` FOREIGN KEY `FK_flowengine_default_standard_statuses_2` (`statusID`)
				    REFERENCES `flowengine_standard_statuses` (`statusID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
	</Script>
	
 	<Script version="16">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows`
				 DROP FOREIGN KEY `FK_flowengine_flows_3`;
			]]>
		</Query>
		
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` ADD CONSTRAINT `FK_flowengine_flows_3` FOREIGN KEY `FK_flowengine_flows_3` (`flowFamilyID`)
				    REFERENCES `flowengine_flow_families` (`flowFamilyID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE;
			]]>
		</Query>
	</Script>
	
	<Script version="17">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` MODIFY COLUMN `longDescription` LONGTEXT CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL;
			]]>
		</Query>
	</Script>
	
	<Script version="18">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_query_descriptors` ADD COLUMN `exported` BOOLEAN NOT NULL AFTER `queryTypeID`;
			]]>
		</Query>
	</Script>
	
	<Script version="19">
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_tags` (
				  `flowID` INTEGER UNSIGNED NOT NULL,
				  `tag` VARCHAR(255) NOT NULL,
				  PRIMARY KEY (`flowID`, `tag`),
				  CONSTRAINT `FK_flowengine_flow_tags_1` FOREIGN KEY `FK_flowengine_flow_tags_1` (`flowID`)
				    REFERENCES `flowengine_flows` (`flowID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_checks` (
				  `flowID` INTEGER UNSIGNED NOT NULL,
				  `check` VARCHAR(255) NOT NULL,
				  PRIMARY KEY (`flowID`, `check`),
				  CONSTRAINT `FK_flowengine_flow_checks_1` FOREIGN KEY `FK_flowengine_flow_checks_1` (`flowID`)
				    REFERENCES `flowengine_flows` (`flowID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_favourites` (
				  `flowID` INTEGER UNSIGNED NOT NULL,
				  `userID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`flowID`, `userID`),
				  CONSTRAINT `FK_flowengine_flow_favourites_1` FOREIGN KEY `FK_flowengine_flow_favourites_1` (`flowID`)
				    REFERENCES `flowengine_flows` (`flowID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_instance_managers` (
				  `flowInstanceID` INTEGER UNSIGNED NOT NULL,
				  `userID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`flowInstanceID`, `userID`),
				  CONSTRAINT `FK_flowengine_flow_instance_managers_1` FOREIGN KEY `FK_flowengine_flow_instance_managers_1` (`flowInstanceID`)
				    REFERENCES `flowengine_flow_instances` (`flowInstanceID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_internal_messages` (
				  `messageID` INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
				  `poster` INTEGER UNSIGNED NOT NULL,
				  `added` TIMESTAMP NOT NULL,
				  `editor` INTEGER UNSIGNED,
				  `updated` TIMESTAMP,
				  `message` MEDIUMTEXT NOT NULL,
				  `flowInstanceID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`messageID`),
				  CONSTRAINT `FK_flowengine_internal_messages_1` FOREIGN KEY `FK_flowengine_internal_messages_1` (`flowInstanceID`)
				    REFERENCES `flowengine_flow_instances` (`flowInstanceID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_internal_message_read_receipts` (
				  `userID` INTEGER UNSIGNED NOT NULL,
				  `messageID` INTEGER UNSIGNED NOT NULL,
				  `read` TIMESTAMP NOT NULL,
				  PRIMARY KEY (`userID`, `messageID`),
				  CONSTRAINT `FK_flowengine_internal_message_read_receipts_1` FOREIGN KEY `FK_flowengine_internal_message_read_receipts_1` (`messageID`)
				    REFERENCES `flowengine_internal_messages` (`messageID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_internal_message_attachments` (
				  `attachmentID` INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
				  `filename` VARCHAR(255) NOT NULL,
				  `size` INTEGER UNSIGNED NOT NULL,
				  `added` TIMESTAMP NOT NULL,
				  `data` LONGBLOB NOT NULL,
				  `messageID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`attachmentID`),
				  CONSTRAINT `FK_flowengine_internal_message_attachments_1` FOREIGN KEY `FK_flowengine_internal_message_attachments_1` (`messageID`)
				    REFERENCES `flowengine_internal_messages` (`messageID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_internal_messages` MODIFY COLUMN `updated` TIMESTAMP NULL;
			]]>
		</Query>
		
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_external_messages` (
				  `messageID` INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
				  `poster` INTEGER UNSIGNED NOT NULL,
				  `added` TIMESTAMP NOT NULL,
				  `editor` INTEGER UNSIGNED,
				  `updated` TIMESTAMP,
				  `message` MEDIUMTEXT NOT NULL,
				  `flowInstanceID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`messageID`),
				  CONSTRAINT `FK_flowengine_external_messages_1` FOREIGN KEY `FK_flowengine_external_messages_1` (`flowInstanceID`)
				    REFERENCES `flowengine_flow_instances` (`flowInstanceID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_external_message_read_receipts` (
				  `userID` INTEGER UNSIGNED NOT NULL,
				  `messageID` INTEGER UNSIGNED NOT NULL,
				  `read` TIMESTAMP NOT NULL,
				  PRIMARY KEY (`userID`, `messageID`),
				  CONSTRAINT `FK_flowengine_external_message_read_receipts_1` FOREIGN KEY `FK_flowengine_external_message_read_receipts_1` (`messageID`)
				    REFERENCES `flowengine_external_messages` (`messageID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_external_message_attachments` (
				  `attachmentID` INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
				  `filename` VARCHAR(255) NOT NULL,
				  `size` INTEGER UNSIGNED NOT NULL,
				  `added` TIMESTAMP NOT NULL,
				  `data` LONGBLOB NOT NULL,
				  `messageID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`attachmentID`),
				  CONSTRAINT `FK_flowengine_external_message_attachments_1` FOREIGN KEY `FK_flowengine_external_message_attachments_1` (`messageID`)
				    REFERENCES `flowengine_external_messages` (`messageID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_external_messages` MODIFY COLUMN `updated` TIMESTAMP NULL;
			]]>
		</Query>
	</Script>	
			
	<Script version="20">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `requireAuthentication` BOOLEAN NOT NULL AFTER `version`;				
			]]>
		</Query>
		
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_instances` ADD COLUMN `lastStatusChange` TIMESTAMP NOT NULL AFTER `statusID`;
			]]>
		</Query>
		
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_instances` MODIFY COLUMN `lastStatusChange` TIMESTAMP NULL;
			]]>
		</Query>
		
		<Query>
			<![CDATA[
				UPDATE `flowengine_flow_instances` SET `lastStatusChange` = NULL;
			]]>
		</Query>
	</Script>
	
	<Script version="21">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_checks` CHANGE COLUMN `check` `value` VARCHAR(255) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL,
					DROP PRIMARY KEY,
					ADD PRIMARY KEY  USING BTREE(`flowID`, `value`);
			]]>
		</Query>
	</Script>	
	
	<Script version="22">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_types` DROP COLUMN `description`;
			]]>
		</Query>
	</Script>	
	
	<Script version="23">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_categories` DROP COLUMN `sortIndex`;
			]]>
		</Query>
	</Script>	
	
	<Script version="23">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` MODIFY COLUMN `longDescription` LONGTEXT CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL;
			]]>
		</Query>
	</Script>
	
	<Script version="24">
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_instance_events` (
				  `eventID` int(10) unsigned NOT NULL AUTO_INCREMENT,
				  `flowInstanceID` int(10) unsigned NOT NULL,
				  `eventType` varchar(45) NOT NULL,
				  `status` varchar(255) NOT NULL,
				  `details` varchar(255) DEFAULT NULL,
				  `added` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
				  `poster` int(10) unsigned NOT NULL,
				  PRIMARY KEY (`eventID`),
				  KEY `FK_flowengine_flow_instance_events_1` (`flowInstanceID`),
				  CONSTRAINT `FK_flowengine_flow_instance_events_1` FOREIGN KEY (`flowInstanceID`) REFERENCES `flowengine_flow_instances` (`flowInstanceID`) ON DELETE CASCADE ON UPDATE CASCADE
				) ENGINE=InnoDB DEFAULT CHARSET=latin1;
			]]>
		</Query>
	</Script>
	
	<Script version="25">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_statuses` MODIFY COLUMN `contentType` VARCHAR(45) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL;
			]]>
		</Query>
	</Script>
	
	<Script version="26">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_statuses` ADD COLUMN `description` TEXT AFTER `name`,
				ADD COLUMN `managingTime` INTEGER UNSIGNED AFTER `description`;
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_standard_statuses` ADD COLUMN `description` TEXT AFTER `name`,
				ADD COLUMN `managingTime` INTEGER UNSIGNED AFTER `description`;
			]]>
		</Query>
	</Script>

	<Script version="27">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_instance_events` ADD COLUMN `statusDescription` TEXT AFTER `status`;
			]]>
		</Query>
	</Script>

	<Script version="28">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_actions` ADD COLUMN `required` TINYINT(1) UNSIGNED NOT NULL AFTER `name`;
			]]>
		</Query>
	</Script>

	<Script version="29">
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_family_manager_groups` (
				  `flowFamilyID` INTEGER UNSIGNED NOT NULL,
				  `groupID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`flowFamilyID`, `groupID`),
				  CONSTRAINT `FK_flowengine_flow_family_manager_groups_1` FOREIGN KEY `FK_flowengine_flow_family_manager_groups_1` (`flowFamilyID`)
				    REFERENCES `flowengine_flow_families` (`flowFamilyID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_family_manager_users` (
				  `flowFamilyID` INTEGER UNSIGNED NOT NULL,
				  `userID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`flowFamilyID`, `userID`),
				  CONSTRAINT `FK_flowengine_flow_family_manager_users_1` FOREIGN KEY `FK_flowengine_flow_family_manager_users_1` (`flowFamilyID`)
				    REFERENCES `flowengine_flow_families` (`flowFamilyID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_instance_bookmarks` (
				  `userID` INTEGER UNSIGNED NOT NULL,
				  `flowInstanceID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`userID`, `flowInstanceID`),
				  CONSTRAINT `FK_flowengine_flow_instance_bookmarks_1` FOREIGN KEY `FK_flowengine_flow_instance_bookmarks_1` (`flowInstanceID`)
				    REFERENCES `flowengine_flow_instances` (`flowInstanceID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
	</Script>
	
	<Script version="30">
		<Query>
			<![CDATA[
				UPDATE flowengine_flow_actions SET actionID = REPLACE(actionID,'com.nordicpeak.flowengine.FlowInstanceBrowserModule','com.nordicpeak.flowengine.FlowBrowserModule');
			]]>
		</Query>
	</Script>
	
	<Script version="31">
		<Query>
			<![CDATA[
				DELETE FROM flowengine_flow_statuses WHERE flowID NOT IN (SELECT flowID FROM flowengine_flows);
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_statuses` ADD CONSTRAINT `FK_flowengine_flow_statuses_1` FOREIGN KEY `FK_flowengine_flow_statuses_1` (`flowID`)
				    REFERENCES `flowengine_flows` (`flowID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE;
			]]>
		</Query>
	</Script>
	
	<Script version="32">
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_user_organizations` (
				  `organizationID` int(10) unsigned NOT NULL AUTO_INCREMENT,
				  `name` varchar(255) NOT NULL,
				  `organizationNumber` varchar(16) NOT NULL,
				  `address` varchar(255) DEFAULT NULL,
				  `zipCode` varchar(255) DEFAULT NULL,
				  `postalAddress` varchar(255) DEFAULT NULL,
				  `phone` varchar(255) DEFAULT NULL,
				  `mobilePhone` varchar(255) DEFAULT NULL,
				  `email` varchar(255) DEFAULT NULL,
				  `contactByLetter` tinyint(1) unsigned NOT NULL,
				  `contactByEmail` tinyint(1) unsigned NOT NULL,
				  `contactBySMS` tinyint(1) unsigned NOT NULL,
				  `contactByPhone` tinyint(1) unsigned NOT NULL,
				  `userID` int(10) unsigned NOT NULL,
				  PRIMARY KEY (`organizationID`)
				) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=latin1;
			]]>
		</Query>
	</Script>
	
	<Script version="33">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_user_organizations` ADD COLUMN `contactPerson` VARCHAR(255) AFTER `postalAddress`;
			]]>
		</Query>
	</Script>
	
	<Script version="34">
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_instance_event_attributes` (
				  `eventID` INTEGER UNSIGNED NOT NULL,
				  `name` VARCHAR(255) NOT NULL,
				  `value` TEXT NOT NULL,
				  PRIMARY KEY (`eventID`, `name`),
				  CONSTRAINT `FK_flowengine_flow_instance_event_attributes_1` FOREIGN KEY `FK_flowengine_flow_instance_event_attributes_1` (`eventID`)
				    REFERENCES `flowengine_flow_instance_events` (`eventID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
	</Script>
	
	<Script version="35">
	    <Query>
	        <![CDATA[
				ALTER TABLE `flowengine_flow_instance_events` MODIFY COLUMN `poster` INT(10) UNSIGNED DEFAULT NULL;
			]]>
	    </Query>
	</Script>
	
	<Script version="36">
	    <Query>
	        <![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `requireSigning` TINYINT(1) UNSIGNED NOT NULL AFTER `requireAuthentication`;
			]]>
	    </Query>
	</Script>
	
	<Script version="37">
	    <Query>
	        <![CDATA[
				CREATE TABLE `flowengine_text_tags` (
				  `textTagID` int(10) unsigned NOT NULL AUTO_INCREMENT,
				  `name` varchar(255) NOT NULL,
				  `description` varchar(255) DEFAULT NULL,
				  `defaultValue` text,
				  `type` varchar(10) NOT NULL,
				  PRIMARY KEY (`textTagID`),
				  UNIQUE KEY `Index_2` (`name`)
				) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=latin1;

			]]>
	    </Query>
	</Script>
	
	<Script version="38">
	    <Query>
	        <![CDATA[
	        	ALTER TABLE `flowengine_flow_instances` ADD COLUMN `profileID` INTEGER UNSIGNED AFTER `lastStatusChange`;
	  		]]>
	    </Query>
	</Script>
	  
	<Script version="39">
	    <Query>
	        <![CDATA[
	        	ALTER TABLE `flowengine_user_organizations` CHANGE COLUMN `contactPerson` `firstname` VARCHAR(255) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL,
 				ADD COLUMN `lastname` VARCHAR(255) AFTER `firstname`;
	  		]]>
	    </Query>
	</Script> 
	
	<Script version="40">
	    <Query>
	        <![CDATA[
	        	ALTER TABLE `flowengine_flows` MODIFY COLUMN `submittedMessage` LONGTEXT CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL,
 				ADD COLUMN `externalLink` VARCHAR(255) AFTER `requireSigning`;
	  		]]>
	    </Query>
	</Script>
	
	<Script version="41">
	    <Query>
	        <![CDATA[
				ALTER TABLE `flowengine_query_descriptors` MODIFY COLUMN `queryTypeID` VARCHAR(255) NOT NULL;
	  		]]>
	    </Query>
	</Script>	
	
	<Script version="42">
	    <Query>
	        <![CDATA[
				ALTER TABLE `flowengine_flow_type_allowed_queries` MODIFY COLUMN `queryTypeID` VARCHAR(255) NOT NULL;				
	  		]]>
	    </Query>    
	</Script>	
	
	<Script version="43">
	    <Query>
	        <![CDATA[
				ALTER TABLE `flowengine_evaluator_descriptors` MODIFY COLUMN `evaluatorTypeID` VARCHAR(255) NOT NULL;				
	  		]]>
	    </Query>    
	</Script>
	
	<Script version="44">
	   <Query>
	        <![CDATA[
	        	DROP TABLE `flowengine_flow_favourites`;
	        ]]>
	    </Query>
	    <Query>
	        <![CDATA[
				CREATE TABLE `flowengine_flow_family_favourites` (
				  `flowFamilyID` int(10) unsigned NOT NULL,
				  `userID` int(10) unsigned NOT NULL,
				  PRIMARY KEY (`flowFamilyID`,`userID`),
				  CONSTRAINT `FK_flowengine_flow_family_favourites_1` FOREIGN KEY (`flowFamilyID`) REFERENCES `flowengine_flow_families` (`flowFamilyID`) ON DELETE CASCADE ON UPDATE CASCADE
				) ENGINE=InnoDB DEFAULT CHARSET=latin1;
	        ]]>
	    </Query>
	</Script>
	
	<Script version="45">
	   <Query>
	        <![CDATA[
				ALTER TABLE `flowengine_query_descriptors` ADD COLUMN `xsdElementName` VARCHAR(255) AFTER `exported`;
	        ]]>
	    </Query>
	    <Query>
	        <![CDATA[
				UPDATE flowengine_query_descriptors SET exported = false;
	        ]]>
	    </Query>
	</Script>
	
	<Script version="46">
	   <Query>
	        <![CDATA[
				ALTER TABLE `flowengine_user_organizations` DROP COLUMN `contactByLetter`,
				 DROP COLUMN `contactByEmail`,
				 DROP COLUMN `contactByPhone`;
	        ]]>
	    </Query>
	</Script>
	
	<Script version="47">
	   <Query>
	        <![CDATA[
				CREATE TABLE `flowengine_aborted_flow_instances` (
				  `abortID` INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
				  `flowFamilyID` INTEGER UNSIGNED NOT NULL,
				  `flowID` INTEGER UNSIGNED NOT NULL,
				  `stepID` INTEGER UNSIGNED NOT NULL,
				  `added` DATETIME NOT NULL,
				  PRIMARY KEY (`abortID`),
				  CONSTRAINT `FK_flowengine_aborted_flow_instances_1` FOREIGN KEY `FK_flowengine_aborted_flow_instances_1` (`flowID`)
				    REFERENCES `flowengine_flows` (`flowID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
	        ]]>
	    </Query>
	</Script>
	
	<Script version="48">
	   <Query>
	        <![CDATA[
				ALTER TABLE `flowengine_flow_families` ADD COLUMN `contactName` VARCHAR(255) AFTER `versionCount`,
				 ADD COLUMN `contactEmail` VARCHAR(255) AFTER `contactName`,
				 ADD COLUMN `contactPhone` VARCHAR(255) AFTER `contactEmail`,
				 ADD COLUMN `ownerName` VARCHAR(255) AFTER `contactPhone`,
				 ADD COLUMN `ownerEmail` VARCHAR(255) AFTER `ownerName`;
	        ]]>
	    </Query>
	</Script>
	
	<Script version="49">
	   <Query>
	        <![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `showSubmitSurvey` TINYINT(1) UNSIGNED NOT NULL AFTER `externalLink`;
	        ]]>
	    </Query>
	</Script>
	
	<Script version="50">
	   <Query>
	        <![CDATA[
				ALTER TABLE `flowengine_flow_families` ADD COLUMN `statisticsMode` VARCHAR(45) AFTER `ownerEmail`;
	        ]]>
	    </Query>
	</Script>	
	
	<Script version="51">
	   <Query>
	        <![CDATA[
				CREATE TABLE `flowengine_operating_messages` (
				  `messageID` int(10) unsigned NOT NULL AUTO_INCREMENT,
				  `message` varchar(255) NOT NULL,
				  `startTime` datetime NOT NULL,
				  `endTime` datetime NOT NULL,
				  `disableFlows` tinyint(1) unsigned NOT NULL,
				  `global` tinyint(1) unsigned NOT NULL,
				  `posted` datetime NOT NULL,
				  `poster` int(10) unsigned NOT NULL,
				  `updated` datetime DEFAULT NULL,
				  `editor` int(10) unsigned DEFAULT NULL,
				  PRIMARY KEY (`messageID`)
				) ENGINE=InnoDB DEFAULT CHARSET=latin1;
	        ]]>
	    </Query>
	    <Query>
	        <![CDATA[
				CREATE TABLE `flowengine_operating_message_flowfamilies` (
				  `messageID` INTEGER UNSIGNED NOT NULL,
				  `flowFamilyID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`messageID`, `flowFamilyID`),
				  CONSTRAINT `FK_flowengine_operating_message_flowfamilies_1` FOREIGN KEY `FK_flowengine_operating_message_flowfamilies_1` (`messageID`)
				    REFERENCES `flowengine_operating_messages` (`messageID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE,
				  CONSTRAINT `FK_flowengine_operating_message_flowfamilies_2` FOREIGN KEY `FK_flowengine_operating_message_flowfamilies_2` (`flowFamilyID`)
				    REFERENCES `flowengine_flow_families` (`flowFamilyID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
	        ]]>
	    </Query>
	</Script>
	
	<Script version="52">
	   <Query>
	        <![CDATA[
				CREATE TABLE `flowengine_flow_instance_attributes` (
				  `flowInstanceID` INTEGER UNSIGNED NOT NULL,
				  `name` VARCHAR(255) NOT NULL,
				  `value` TEXT NOT NULL,
				  PRIMARY KEY (`flowInstanceID`, `name`),
				  CONSTRAINT `FK_flowengine_flow_instance_attributes_1` FOREIGN KEY `FK_flowengine_flow_instance_attributes_1` (`flowInstanceID`)
				    REFERENCES `flowengine_flow_instances` (`flowInstanceID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
	        ]]>
	    </Query>
	</Script>
	
	<Script version="53">
		<Query>
	  	<![CDATA[
				ALTER TABLE `flowengine_flow_instances` ADD COLUMN `firstSubmitted` TIMESTAMP NULL DEFAULT NULL AFTER `profileID`;
	 		]]>
		</Query>
		<Query>
	  	<![CDATA[
				UPDATE flowengine_flow_instances I,
				 (SELECT * FROM (SELECT flowInstanceID, added FROM flowengine_flow_instance_events WHERE eventType = "SUBMITTED" ORDER BY added ASC) e GROUP BY flowInstanceID) E
				  SET I.firstSubmitted = E.added WHERE I.flowInstanceID = E.flowInstanceID;
	 		]]>
		</Query>
	</Script>
	
	<Script version="54">
		<Query>
	  	<![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `skipOverview` TINYINT(1) UNSIGNED NOT NULL AFTER `showSubmitSurvey`;
	 		]]>
		</Query>
	</Script>
	
	<Script version="55">
		<Query>
	  	<![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `hasPDF` TINYINT(1) UNSIGNED NOT NULL AFTER `skipOverview`;
	 		]]>
		</Query>
	</Script>
	
	<Script version="56">
		<Query>
	  	<![CDATA[
				CREATE TABLE `flowengine_flow_family_aliases` (
					`flowFamilyID` INT(10) UNSIGNED NOT NULL,
					`alias` VARCHAR(50) NOT NULL,
					PRIMARY KEY (`flowFamilyID`, `alias`),
					CONSTRAINT `flowengine_flow_family_aliases_ibfk_1` FOREIGN KEY (`flowFamilyID`) REFERENCES `flowengine_flow_families` (`flowFamilyID`) ON UPDATE CASCADE ON DELETE CASCADE
				)
				COLLATE='latin1_swedish_ci'
				ENGINE=InnoDB
				ROW_FORMAT=COMPACT;
	 		]]>
		</Query>
	</Script>
	
	<Script version="57">
		<Query>
	  	<![CDATA[
	    	ALTER TABLE `flowengine_flows` ADD COLUMN `externalPDF` VARCHAR(255) NULL DEFAULT NULL AFTER `hasPDF`;
	  	]]>
		</Query>
	</Script>
	
	<Script version="58">
		<Query>
	  	<![CDATA[
	    	ALTER TABLE `flowengine_flows` MODIFY COLUMN `externalLink` VARCHAR(1024) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL;
	  	]]>
		</Query>
	</Script>
	
	<Script version="59">
		<Query>
	  	<![CDATA[
	  		CREATE TABLE `flowengine_flow_family_events` (
					`eventID` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
					`flowFamilyID` INT(10) UNSIGNED NOT NULL,
					`flowVersion` SMALLINT(5) UNSIGNED NULL DEFAULT NULL,
					`added` DATETIME NOT NULL,
					`poster` INT(10) UNSIGNED NOT NULL,
					`message` VARCHAR(255) NOT NULL,
					PRIMARY KEY (`eventID`),
					INDEX `FK_flowengine_flow_family_events_1` (`flowFamilyID`),
					CONSTRAINT `FK_flowengine_flow_family_events_1` FOREIGN KEY (`flowFamilyID`) REFERENCES `flowengine_flow_families` (`flowFamilyID`) ON UPDATE CASCADE ON DELETE CASCADE
				)
				COLLATE='latin1_swedish_ci'
				ENGINE=InnoDB;
	  	]]>
		</Query>
	</Script>
	
	<Script version="60">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_types` ADD COLUMN `useAccessFilter` BOOLEAN NOT NULL AFTER `name`;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_type_groups` (
				  `flowTypeID` INTEGER UNSIGNED NOT NULL,
				  `groupID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`flowTypeID`, `groupID`),
				  CONSTRAINT `FK_flowengine_flow_type_groups_1` FOREIGN KEY `FK_flowengine_flow_type_groups_1` (`flowTypeID`)
				    REFERENCES `flowengine_flow_types` (`flowTypeID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_type_users` (
				  `flowTypeID` INTEGER UNSIGNED NOT NULL,
				  `userID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`flowTypeID`, `userID`),
				  CONSTRAINT `FK_flowengine_flow_type_users_1` FOREIGN KEY `FK_flowengine_flow_type_users_1` (`flowTypeID`)
				    REFERENCES `flowengine_flow_types` (`flowTypeID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
	</Script>
	
	<Script version="61">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_tags` MODIFY COLUMN `tag` VARCHAR(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL;
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_checks` MODIFY COLUMN `value` VARCHAR(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL;
		
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_family_aliases` MODIFY COLUMN `alias` VARCHAR(50) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL;		
			]]>
		</Query>
	</Script>
	
	<Script version="62">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `hideManagerDetails` BOOLEAN AFTER `externalPDF`;
			]]>
		</Query>
	</Script>
	
	<Script version="63">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_external_messages` ADD COLUMN `postedByManager` BOOLEAN NOT NULL AFTER `flowInstanceID`;
			]]>
		</Query>
				<Query>
			<![CDATA[
				UPDATE flowengine_external_messages SET postedByManager = true WHERE poster != (SELECT poster FROM flowengine_flow_instances WHERE flowengine_flow_instances.flowInstanceID = flowengine_external_messages.flowInstanceID);
			]]>
		</Query>
	</Script>
	
	<Script version="64">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_operating_messages` MODIFY COLUMN `editor` INT(10) UNSIGNED, ADD COLUMN `allowManagingOfInstances` BOOLEAN NOT NULL AFTER `disableFlows`;
			]]>
		</Query>
	</Script>
	
	<Script version="65">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_families` ADD COLUMN `popularityBoost` INTEGER UNSIGNED AFTER `statisticsMode`;
			]]>
		</Query>
	</Script>
	
	<Script version="66">
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_external_flow_redirects` (
				  `redirectID` INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
				  `flowID` INTEGER UNSIGNED NOT NULL,
				  `time` TIMESTAMP NOT NULL,
				  PRIMARY KEY (`redirectID`),
				  CONSTRAINT `FK_flowengine_external_flow_redirects_1` FOREIGN KEY `FK_flowengine_external_flow_redirects_1` (`flowID`)
				    REFERENCES `flowengine_flows` (`flowID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
	</Script>
	
	<Script version="67">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_types` ADD COLUMN `iconFileName` VARCHAR(255) AFTER `useAccessFilter`,
				 ADD COLUMN `icon` BLOB AFTER `iconFileName`;
			]]>
		</Query>
	</Script>
	
	<Script version="68">
		<Query>
			<![CDATA[
				UPDATE `flowengine_flows` SET `hideManagerDetails` = false WHERE `hideManagerDetails` IS NULL;
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` MODIFY COLUMN `flowID` INT(10) UNSIGNED NOT NULL,
				 MODIFY COLUMN `hideManagerDetails` BOOLEAN NOT NULL,
				 ADD COLUMN `hideFromOverview` BOOLEAN NOT NULL AFTER `hideManagerDetails`;
			]]>
		</Query>
	</Script>
	
	<Script version="69">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` MODIFY COLUMN `flowID` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;
			]]>
		</Query>
	</Script>

	<Script version="70">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_families` ADD COLUMN `startButtonText` VARCHAR(24) AFTER `popularityBoost`;
			]]>
		</Query>
	</Script>
	
	<Script version="71">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `hideInternalMessages` TINYINT(1) UNSIGNED NOT NULL AFTER `hideFromOverview`;
			]]>
		</Query>
	</Script>

	<Script version="72">
		<Query>
	  	<![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `hideSubmitStepText` TINYINT(1) UNSIGNED NOT NULL AFTER `hideInternalMessages`;
	 		]]>
		</Query>
	</Script>

	<Script version="73">
		<Query>
	  	<![CDATA[
				CREATE TABLE `flowengine_flow_instance_owners` (
					`flowInstanceID` INT(10) UNSIGNED NOT NULL,
					`userID` INT(10) UNSIGNED NOT NULL,
					PRIMARY KEY (`flowInstanceID`, `userID`),
					CONSTRAINT `FK_flowengine_flow_instance_owners_1` FOREIGN KEY (`flowInstanceID`) REFERENCES `flowengine_flow_instances` (`flowInstanceID`) ON UPDATE CASCADE ON DELETE CASCADE
				)
				COLLATE='latin1_swedish_ci'
				ENGINE=InnoDB;
	 		]]>
		</Query>
		<Query>
	  	<![CDATA[
				INSERT INTO `flowengine_flow_instance_owners` (flowInstanceID, userID) SELECT flowInstanceID, poster FROM flowengine_flow_instances WHERE poster IS NOT NULL;
	 		]]>
		</Query>
	</Script>
	
	<Script version="74">
		<Query>
	  	<![CDATA[
				ALTER TABLE `flowengine_flow_statuses` ADD COLUMN `sortIndex` INTEGER UNSIGNED NOT NULL AFTER `isAdminDeletable`;
	 		]]>
		</Query>
	</Script>	

	<Script version="75">
		<Query>
	  	<![CDATA[
				ALTER TABLE `flowengine_flow_types` ADD COLUMN `iconColor` VARCHAR(8) AFTER `icon`;
	 		]]>
		</Query>
	</Script>
	
	<Script version="76">
		<Query>
	  	<![CDATA[
				CREATE TABLE `flowengine_flow_forms` (
					`flowFormID` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
					`flowID` INT(10) UNSIGNED NOT NULL,
					`name` VARCHAR(255) NULL DEFAULT NULL,
					`externalURL` VARCHAR(1024) NULL DEFAULT NULL,
					PRIMARY KEY (`flowFormID`),
					INDEX `flowID` (`flowID`),
					CONSTRAINT `FK_flowengine_flow_forms_1` FOREIGN KEY (`flowID`) REFERENCES `flowengine_flows` (`flowID`) ON UPDATE CASCADE ON DELETE CASCADE
				)
				ENGINE=InnoDB;
	 		]]>
		</Query>
		<Query>
	  	<![CDATA[
				INSERT INTO `flowengine_flow_forms` (flowFormID, flowID, externalURL) SELECT flowID, flowID, externalPDF FROM flowengine_flows WHERE hasPDF = 1;
	 		]]>
		</Query>
		<Query>
	  	<![CDATA[
				ALTER TABLE `flowengine_flows`
					DROP COLUMN `hasPDF`,
					DROP COLUMN `externalPDF`;
	 		]]>
		</Query>
	</Script>

	<Script version="77">
		<Query>
	  		<![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `paymentSupportEnabled` BOOLEAN NOT NULL AFTER `hideSubmitStepText`;	
	 		]]>
		</Query>
	</Script>
	
	<Script version="78">
		<Query>
	  		<![CDATA[
				ALTER TABLE `flowengine_flows` MODIFY COLUMN `icon` MEDIUMBLOB DEFAULT NULL;	
	 		]]>
		</Query>
	</Script>	
	
	<Script version="79">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_types` ADD COLUMN `allowAnonymousAccess` BOOLEAN NOT NULL AFTER `iconFileName`;
			]]>
		</Query>
	</Script>
	
	<Script version="80">
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_notifications` (
					`notificationID` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
					`sourceModuleID` INT(10) UNSIGNED NOT NULL,
					`flowInstanceID` INT(10) UNSIGNED NOT NULL,
					`userID` INT(10) UNSIGNED NOT NULL,
					`added` DATETIME NOT NULL,
					`seen` DATETIME NULL DEFAULT NULL,
					`title` VARCHAR(255) NULL DEFAULT NULL,
					`notificationType` VARCHAR(255) NULL DEFAULT NULL,
					`externalNotificationID` INT(10) UNSIGNED NULL DEFAULT NULL,
					PRIMARY KEY (`notificationID`)
				)
				COLLATE='latin1_swedish_ci'
				ENGINE=InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_notification_attributes` (
					`notificationID` INT(10) UNSIGNED NOT NULL,
					`name` VARCHAR(255) NOT NULL,
					`value` VARCHAR(1024) NOT NULL,
					PRIMARY KEY (`notificationID`, `name`),
					CONSTRAINT `FK_flowengine_notification_attributes_1` FOREIGN KEY (`notificationID`) REFERENCES `flowengine_notifications` (`notificationID`)
						ON UPDATE CASCADE
						ON DELETE CASCADE
				)
				COLLATE='latin1_swedish_ci'
				ENGINE=InnoDB;
			]]>
		</Query>
	</Script>

	<Script version="81">
	    <Query>
	        <![CDATA[
				CREATE TABLE `flowengine_operating_message_profiles` (
				  `messageID` INTEGER UNSIGNED NOT NULL,
				  `profileID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`messageID`, `profileID`),
				  CONSTRAINT `FK_flowengine_operating_message_profiles_1` FOREIGN KEY `FK_flowengine_operating_message_profiles_1` (`messageID`)
				    REFERENCES `flowengine_operating_messages` (`messageID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE,
				  CONSTRAINT `FK_flowengine_operating_message_profiles_2` FOREIGN KEY `FK_flowengine_operating_message_profiles_2` (`profileID`)
				    REFERENCES `site_profiles` (`profileID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
	        ]]>
	    </Query>
	</Script>

	<Script version="82">
	    <Query>
	        <![CDATA[
				ALTER TABLE `flowengine_operating_messages` ADD COLUMN `profileFilter` TINYINT(1) UNSIGNED NOT NULL AFTER `editor`;
	        ]]>
	    </Query>
	</Script>
	
	<Script version="83">
	    <Query>
	        <![CDATA[
				DROP TABLE `flowengine_flow_family_favourites`;
	        ]]>
	    </Query>
	</Script>
	
	<Script version="84">
	    <Query>
	        <![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `iconLastModified` DATETIME AFTER `icon`;
	        ]]>
	    </Query>
	    <Query>
	        <![CDATA[
				ALTER TABLE `flowengine_flow_types` ADD COLUMN `iconLastModified` DATETIME AFTER `icon`;
	        ]]>
	    </Query>
	    <Query>
	        <![CDATA[
				UPDATE flowengine_flows SET iconLastModified = CURRENT_TIMESTAMP();
	        ]]>
	    </Query>
	    <Query>
	        <![CDATA[
				UPDATE flowengine_flow_types SET iconLastModified = CURRENT_TIMESTAMP();
	        ]]>
	    </Query>
	</Script>
	
	<Script version="85">
	    <Query>
	        <![CDATA[
				ALTER TABLE `flowengine_operating_messages` ADD COLUMN `messageType` VARCHAR(45) NOT NULL AFTER `endTime`;
	        ]]>
	    </Query>
	</Script>

	<Script version="86">
	   <Query>
	        <![CDATA[
				ALTER TABLE `flowengine_query_descriptors` ADD COLUMN `mergeWithPreviousQuery` TINYINT(1) UNSIGNED NOT NULL AFTER `xsdElementName`;
	        ]]>
	    </Query>
	</Script>
	
	<Script version="87">
	   <Query>
	        <![CDATA[
				ALTER TABLE `flowengine_external_messages` MODIFY COLUMN `poster` INT(10) UNSIGNED DEFAULT NULL,
				 ADD COLUMN `systemMessage` BOOLEAN NOT NULL AFTER `postedByManager`;
	        ]]>
	    </Query>
	</Script>
	
	<Script version="88">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_statuses`
					ADD COLUMN `requireSigning` TINYINT(1) NOT NULL AFTER `isAdminDeletable`,
					ADD COLUMN `useAccessCheck` TINYINT(1) NOT NULL AFTER `requireSigning`;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_statuses_manager_groups` (
				  `statusID` INTEGER UNSIGNED NOT NULL,
				  `groupID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`statusID`, `groupID`),
				  CONSTRAINT `FK_flowengine_flow_statuses_manager_groups_1` FOREIGN KEY `FK_flowengine_flow_statuses_manager_groups_1` (`statusID`)
				    REFERENCES `flowengine_flow_statuses` (`statusID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_statuses_manager_users` (
				  `statusID` INTEGER UNSIGNED NOT NULL,
				  `userID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`statusID`, `userID`),
				  CONSTRAINT `FK_flowengine_flow_statuses_manager_users_1` FOREIGN KEY `FK_flowengine_flow_statuses_manager_users_1` (`statusID`)
				    REFERENCES `flowengine_flow_statuses` (`statusID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
	</Script>
	
	<Script version="89">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_families`
					ADD COLUMN `loginHelpLinkName` VARCHAR(50) NULL DEFAULT NULL AFTER `startButtonText`,
					ADD COLUMN `loginHelpLinkURL` VARCHAR(255) NULL DEFAULT NULL AFTER `loginHelpLinkName`;
			]]>
		</Query>
	</Script>
	
	<Script version="90">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_families` ADD COLUMN `useLoginHelpLink` TINYINT UNSIGNED NOT NULL DEFAULT '0' AFTER `startButtonText`;
			]]>
		</Query>
	</Script>
	
	<Script version="91">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_types` ADD COLUMN `useIconOnAllFlows` TINYINT(1) UNSIGNED NOT NULL AFTER `iconColor`;
			]]>
		</Query>
	</Script>
	
	<Script version="92">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_forms` ADD COLUMN `showExternalLinkIcon` BOOLEAN NOT NULL AFTER `externalURL`;
			]]>
		</Query>
	</Script>
	
	<Script version="93">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_checks` ADD COLUMN `checkIndex` INTEGER UNSIGNED NOT NULL AFTER `value`;
			]]>
		</Query>
	</Script>
	
	<Script version="94">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_notifications` MODIFY COLUMN `title` VARCHAR(1024) DEFAULT NULL;
			]]>
		</Query>
	</Script>	
	
	<Script version="95">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows`
					ADD COLUMN `showLoginQuestion` TINYINT(1) NOT NULL AFTER `paymentSupportEnabled`,
					ADD COLUMN `loginQuestionText` TEXT NULL DEFAULT NULL AFTER `showLoginQuestion`;
			]]>
		</Query>
	</Script>
	
	<Script version="96">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_family_manager_users`
					ADD COLUMN `validFromDate` DATE NULL DEFAULT NULL AFTER `userID`,
					ADD COLUMN `validToDate` DATE NULL DEFAULT NULL AFTER `validFromDate`;
			]]>
		</Query>
	</Script>
	
	<Script version="97">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `useSequentialSigning` TINYINT(1) UNSIGNED NOT NULL AFTER `requireSigning`;
			]]>
		</Query>
	</Script>
	
	<Script version="98">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `hideExternalMessages` TINYINT(1) UNSIGNED NOT NULL AFTER `hideInternalMessages`;
			]]>
		</Query>
	</Script>
	
	<Script version="99">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `allowForeignIDs` TINYINT(1) UNSIGNED NOT NULL AFTER `requireAuthentication`;
			]]>
		</Query>
	</Script>
	
	<Script version="100">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_family_events` CHANGE COLUMN `message` `message` VARCHAR(1024) NOT NULL AFTER `poster`;
			]]>
		</Query>
	</Script>
	
	<Script version="101">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `userDescriptionTemplate` VARCHAR(255) AFTER `loginQuestionText`,
				 ADD COLUMN `managerDescriptionTemplate` VARCHAR(255) AFTER `userDescriptionTemplate`;
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_instances` ADD COLUMN `userDescription` VARCHAR(255) AFTER `firstSubmitted`,
				 ADD COLUMN `managerDescription` VARCHAR(255) AFTER `userDescription`;
			]]>
		</Query>
	</Script>
	
	<Script version="102">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_family_manager_users` ADD COLUMN `restricted` TINYINT UNSIGNED NOT NULL AFTER `userID`;
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_family_manager_groups` ADD COLUMN `restricted` TINYINT UNSIGNED NOT NULL AFTER `groupID`;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_instance_manager_groups` (
					`flowInstanceID` INT(10) UNSIGNED NOT NULL,
					`groupID` INT(10) UNSIGNED NOT NULL,
					PRIMARY KEY (`flowInstanceID`, `groupID`),
					CONSTRAINT `FK_flowengine_flow_instance_manager_groups_1` FOREIGN KEY (`flowInstanceID`) REFERENCES `flowengine_flow_instances` (`flowInstanceID`) ON UPDATE CASCADE ON DELETE CASCADE
				)
				ENGINE=InnoDB;
			]]>
		</Query>
	</Script>
	
	<Script version="103">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_families`
					ADD COLUMN `autoManagerAssignmentNoMatch` INT UNSIGNED NULL DEFAULT NULL AFTER `loginHelpLinkURL`,
					ADD COLUMN `autoManagerAssignmentAlways` INT UNSIGNED NULL DEFAULT NULL AFTER `autoManagerAssignmentNoMatch`;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_family_automanager_rules` (
					`ruleID` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
					`flowFamilyID` INT(10) UNSIGNED NOT NULL,
					`userID` INT(10) UNSIGNED NOT NULL,
					`attributeName` VARCHAR(255) NOT NULL,
					PRIMARY KEY (`ruleID`),
					INDEX `FK_flowengine_flow_family_automanager_rules_1` (`flowFamilyID`),
					CONSTRAINT `FK_flowengine_flow_family_automanager_rules_1` FOREIGN KEY (`flowFamilyID`) REFERENCES `flowengine_flow_families` (`flowFamilyID`)
					 ON UPDATE CASCADE
					 ON DELETE CASCADE
				)
				COLLATE='latin1_swedish_ci'
				ENGINE=InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_family_automanager_rule_values` (
					`ruleID` INT(10) UNSIGNED NOT NULL,
					`value` VARCHAR(255) NOT NULL,
					PRIMARY KEY (`ruleID`, `value`),
					CONSTRAINT `FK_flowengine_flow_family_automanager_rule_values_1` FOREIGN KEY (`ruleID`) REFERENCES `flowengine_flow_family_automanager_rules` (`ruleID`)
					 ON UPDATE CASCADE
					 ON DELETE CASCADE
				)
				COLLATE='latin1_swedish_ci'
				ENGINE=InnoDB;
			]]>
		</Query>
	</Script>
	
	<Script version="104">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_family_automanager_rules` DROP COLUMN `userID`;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_family_automanager_rule_users` (
					`ruleID` INT(10) UNSIGNED NOT NULL,
					`userID` INT(10) UNSIGNED NOT NULL,
					PRIMARY KEY (`ruleID`, `userID`),
					CONSTRAINT `FK_flowengine_flow_family_automanager_rule_users_1` FOREIGN KEY (`ruleID`) REFERENCES `flowengine_flow_family_automanager_rules` (`ruleID`)
					 ON UPDATE CASCADE
					 ON DELETE CASCADE
				)
				ENGINE=InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_family_automanager_rule_groups` (
					`ruleID` INT(10) UNSIGNED NOT NULL,
					`groupID` INT(10) UNSIGNED NOT NULL,
					PRIMARY KEY (`ruleID`, `groupID`),
					CONSTRAINT `FK_flowengine_flow_family_automanager_rule_groups_1` FOREIGN KEY (`ruleID`) REFERENCES `flowengine_flow_family_automanager_rules` (`ruleID`)
					 ON UPDATE CASCADE
					 ON DELETE CASCADE
				)
				ENGINE=InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_family_automanager_always_users` (
					`flowFamilyID` INT(10) UNSIGNED NOT NULL,
					`userID` INT(10) UNSIGNED NOT NULL,
					PRIMARY KEY (`flowFamilyID`, `userID`),
					CONSTRAINT `FK_flowengine_flow_family_automanager_always_users_1` FOREIGN KEY (`flowFamilyID`) REFERENCES `flowengine_flow_families` (`flowFamilyID`)
					 ON UPDATE CASCADE
					 ON DELETE CASCADE
				)
				ENGINE=InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_family_automanager_always_groups` (
					`flowFamilyID` INT(10) UNSIGNED NOT NULL,
					`groupID` INT(10) UNSIGNED NOT NULL,
					PRIMARY KEY (`flowFamilyID`, `groupID`),
					CONSTRAINT `FK_flowengine_flow_family_automanager_always_groups_1` FOREIGN KEY (`flowFamilyID`) REFERENCES `flowengine_flow_families` (`flowFamilyID`)
					 ON UPDATE CASCADE
					 ON DELETE CASCADE
				)
				ENGINE=InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_family_automanager_nomatch_users` (
					`flowFamilyID` INT(10) UNSIGNED NOT NULL,
					`userID` INT(10) UNSIGNED NOT NULL,
					PRIMARY KEY (`flowFamilyID`, `userID`),
					CONSTRAINT `FK_flowengine_flow_family_automanager_nomatch_users_1` FOREIGN KEY (`flowFamilyID`) REFERENCES `flowengine_flow_families` (`flowFamilyID`)
					 ON UPDATE CASCADE
					 ON DELETE CASCADE
				)
				ENGINE=InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_family_automanager_nomatch_groups` (
					`flowFamilyID` INT(10) UNSIGNED NOT NULL,
					`groupID` INT(10) UNSIGNED NOT NULL,
					PRIMARY KEY (`flowFamilyID`, `groupID`),
					CONSTRAINT `FK_flowengine_flow_family_automanager_nomatch_groups_1` FOREIGN KEY (`flowFamilyID`) REFERENCES `flowengine_flow_families` (`flowFamilyID`)
					 ON UPDATE CASCADE
					 ON DELETE CASCADE
				)
				ENGINE=InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_family_automanager_rules` ADD COLUMN `invert` TINYINT UNSIGNED NOT NULL AFTER `attributeName`;
			]]>
		</Query>
	</Script>
	
	<Script version="105">
		<Query>
			<![CDATA[
				UPDATE flowengine_flow_instances SET userDescription = (SELECT SUBSTRING(value,1,255) FROM flowengine_flow_instance_attributes WHERE flowengine_flow_instance_attributes.flowInstanceID = flowengine_flow_instances.flowInstanceID AND name = "description"), managerDescription = userDescription;
			]]>
		</Query>
		<Query>
			<![CDATA[
				DELETE FROM flowengine_flow_instance_attributes WHERE name = "description" OR name = "descriptionGenerated" AND flowInstanceID IN (SELECT flowInstanceID FROM (SELECT flowInstanceID FROM flowengine_flow_instance_attributes WHERE name = "descriptionGenerated") nested);
			]]>
		</Query>
	</Script>
	
	<Script version="106">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `hideExternalMessageAttachments` TINYINT(1) UNSIGNED NOT NULL AFTER `hideExternalMessages`;
			]]>
		</Query>
	</Script>
	
	<Script version="107">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `skipPosterSigning` TINYINT(1) UNSIGNED NOT NULL AFTER `useSequentialSigning`;
			]]>
		</Query>
	</Script>
	
	<Script version="108">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `hideFromUser` TINYINT(1) UNSIGNED NOT NULL AFTER `hideSubmitStepText`;
			]]>
		</Query>
	</Script>
	
	<Script version="109">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_forms` ADD COLUMN `fileExtension` CHAR(4) NULL DEFAULT NULL AFTER `externalURL`;
			]]>
		</Query>
		<Query>
			<![CDATA[
				UPDATE `flowengine_flow_forms` SET `fileExtension` = 'pdf' WHERE externalURL IS NULL;
			]]>
		</Query>
	</Script>
	
	<Script version="110">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_operating_messages`
					CHANGE COLUMN `allowManagingOfInstances` `allowManagingOfInstances` TINYINT(1) UNSIGNED NOT NULL AFTER `disableFlows`,
					ADD COLUMN `allowExistingInstances` TINYINT(1) UNSIGNED NOT NULL AFTER `allowManagingOfInstances`;
			]]>
		</Query>
	</Script>
	
	<Script version="111">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_operating_messages`
					CHANGE COLUMN `allowExistingInstances` `allowUserHandlingOfSubmittedInstances` TINYINT(1) UNSIGNED NOT NULL AFTER `allowManagingOfInstances`;
			]]>
		</Query>
	</Script>
	
	<Script version="112">
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_operating_message_notifications` (
					`dummyID` INT(10) UNSIGNED NOT NULL,
					PRIMARY KEY (`dummyID`)
				)
				COLLATE='latin1_swedish_ci'
				ENGINE=InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_operating_message_notification_users` (
					`dummyID` INT(11) UNSIGNED NOT NULL,
					`userID` INT(11) NOT NULL,
					PRIMARY KEY (`dummyID`, `userID`),
					CONSTRAINT `FK_flowengine_operating_message_notification_users_1` FOREIGN KEY (`dummyID`) REFERENCES `flowengine_operating_message_notifications` (`dummyID`) ON UPDATE CASCADE ON DELETE CASCADE
				)
				ENGINE=InnoDB;
			]]>
		</Query>
	</Script>
	
	<Script version="113">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` 
				MODIFY COLUMN `userDescriptionTemplate` VARCHAR(1024) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL,
				MODIFY COLUMN `managerDescriptionTemplate` VARCHAR(1024) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL;
			]]>
		</Query>
	</Script>
	
	<Script version="114">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_statuses` ADD INDEX `contentType` (`contentType`);
			]]>
		</Query>
	</Script>
	
	<Script version="115">
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_overview_attributes` (
					`flowID` INT(10) UNSIGNED NOT NULL,
					`name` VARCHAR(50) NOT NULL,
					`value` VARCHAR(255) NOT NULL,
					`sortIndex` SMALLINT(5) UNSIGNED NOT NULL,
					PRIMARY KEY (`flowID`, `name`),
					CONSTRAINT `flowengine_flow_overview_attributes_1` FOREIGN KEY (`flowID`) REFERENCES `flowengine_flows` (`flowID`) ON UPDATE CASCADE ON DELETE CASCADE
				)
				COLLATE='latin1_swedish_ci'
				ENGINE=InnoDB;
			]]>
		</Query>
	</Script>
	
	<Script version="116">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `hideFlowInstanceIDFromUser` TINYINT(1) UNSIGNED NOT NULL AFTER `hideFromUser`;
			]]>
		</Query>
	</Script>
	
	<Script version="117">
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_family_external_message_templates` (
					`templateID` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
					`flowFamilyID` INT(11) UNSIGNED NOT NULL,
					`name` VARCHAR(255) NOT NULL,
					`message` TEXT NOT NULL,
					PRIMARY KEY (`templateID`),
					INDEX `FK_flowengine_flow_family_external_message_templates_1` (`flowFamilyID`),
					CONSTRAINT `FK_flowengine_flow_family_external_message_templates_1` FOREIGN KEY (`flowFamilyID`) REFERENCES `flowengine_flow_families` (`flowFamilyID`) ON UPDATE CASCADE ON DELETE CASCADE
				)
				COLLATE='latin1_swedish_ci'
				ENGINE=InnoDB;
			]]>
		</Query>
	</Script>
	
	<Script version="118">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_family_manager_users` ADD COLUMN `allowUpdatingManagers` TINYINT(3) UNSIGNED NOT NULL AFTER `restricted`;
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_family_manager_groups` ADD COLUMN `allowUpdatingManagers` TINYINT(3) UNSIGNED NOT NULL AFTER `restricted`;
			]]>
		</Query>
	</Script>
		
	<Script version="119">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `hideExternalMessagesOnArchivedFlowInstances` TINYINT(1) UNSIGNED NOT NULL AFTER `hideExternalMessages`;
			]]>
		</Query>
	</Script>
	
	<Script version="120">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_operating_messages`	ADD COLUMN `allowFlowForms` TINYINT(1) UNSIGNED NOT NULL AFTER `allowUserHandlingOfSubmittedInstances`;
			]]>
		</Query>
	</Script>
	
	<Script version="121">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `appendSigningSignatureToPDF` TINYINT(1) UNSIGNED NOT NULL AFTER `skipPosterSigning`;
			]]>
		</Query>
	</Script>
	
	<Script version="122">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `allowPosterMultipartSigning` TINYINT(1) UNSIGNED NOT NULL AFTER `skipPosterSigning`;
			]]>
		</Query>
	</Script>
	
	<Script version="123">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_statuses`
					ADD COLUMN `addExternalMessage` TINYINT(1) NOT NULL AFTER `managingTime`,
					ADD COLUMN `defaultExternalMessageTemplateID` INT(10) UNSIGNED AFTER `addExternalMessage`;
			]]>
		</Query>
	</Script>
	
	<Script version="124">
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_family_automanager_status_rules` (
					`ruleID` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
					`flowFamilyID` INT(10) UNSIGNED NOT NULL,
					`statusName` VARCHAR(255) NOT NULL,
					`addManagers` TINYINT UNSIGNED NOT NULL,
					`removePreviousManagers` TINYINT UNSIGNED NOT NULL,
					PRIMARY KEY (`ruleID`),
					INDEX `FK_flowengine_flow_family_automanager_status_rules_1` (`flowFamilyID`),
					CONSTRAINT `FK_flowengine_flow_family_automanager_status_rules_1` FOREIGN KEY (`flowFamilyID`) REFERENCES `flowengine_flow_families` (`flowFamilyID`)
					 ON UPDATE CASCADE
					 ON DELETE CASCADE
				)
				COLLATE='latin1_swedish_ci'
				ENGINE=InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_family_automanager_status_rule_users` (
					`ruleID` INT(10) UNSIGNED NOT NULL,
					`userID` INT(10) UNSIGNED NOT NULL,
					PRIMARY KEY (`ruleID`, `userID`),
					CONSTRAINT `FK_flowengine_flow_family_automanager_status_rule_users_1` FOREIGN KEY (`ruleID`) REFERENCES `flowengine_flow_family_automanager_status_rules` (`ruleID`)
					 ON UPDATE CASCADE
					 ON DELETE CASCADE
				)
				ENGINE=InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_family_automanager_status_rule_groups` (
					`ruleID` INT(10) UNSIGNED NOT NULL,
					`groupID` INT(10) UNSIGNED NOT NULL,
					PRIMARY KEY (`ruleID`, `groupID`),
					CONSTRAINT `FK_flowengine_flow_family_automanager_status_rule_groups_1` FOREIGN KEY (`ruleID`) REFERENCES `flowengine_flow_family_automanager_status_rules` (`ruleID`)
					 ON UPDATE CASCADE
					 ON DELETE CASCADE
				)
				ENGINE=InnoDB;
			]]>
		</Query>
	</Script>
	
	<Script version="125">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_query_descriptors` ADD COLUMN `comment` VARCHAR(1024) AFTER `name`;
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_evaluator_descriptors` ADD COLUMN `comment` VARCHAR(1024) AFTER `name`;
			]]>
		</Query>
	</Script>
	
	<Script version="126">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `hideSaveButton` BOOLEAN AFTER `hideSubmitStepText`;
			]]>
		</Query>
	</Script>
	
	<Script version="127">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` ALTER `hideSaveButton` DROP DEFAULT;
			]]>
		</Query>
		<Query>
			<![CDATA[
				UPDATE `flowengine_flows` SET `hideSaveButton` = 0 WHERE `hideSaveButton` IS NULL;
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` 
					CHANGE COLUMN `enabled` `enabled` TINYINT(1) UNSIGNED NOT NULL AFTER `categoryID`,
					CHANGE COLUMN `usePreview` `usePreview` TINYINT(1) UNSIGNED NOT NULL AFTER `enabled`,
					CHANGE COLUMN `requireAuthentication` `requireAuthentication` TINYINT(1) UNSIGNED NOT NULL AFTER `version`,
					CHANGE COLUMN `hideManagerDetails` `hideManagerDetails` TINYINT(1) UNSIGNED NOT NULL AFTER `skipOverview`,
					CHANGE COLUMN `hideFromOverview` `hideFromOverview` TINYINT(1) UNSIGNED NOT NULL AFTER `hideManagerDetails`,
					CHANGE COLUMN `hideSaveButton` `hideSaveButton` TINYINT(1) UNSIGNED NOT NULL AFTER `hideSubmitStepText`,
					CHANGE COLUMN `paymentSupportEnabled` `paymentSupportEnabled` TINYINT(1) UNSIGNED NOT NULL AFTER `hideFlowInstanceIDFromUser`,
					CHANGE COLUMN `showLoginQuestion` `showLoginQuestion` TINYINT(1) UNSIGNED NOT NULL AFTER `paymentSupportEnabled`,
					ADD COLUMN `showPreviousSignaturesToSigners` TINYINT(1) UNSIGNED NOT NULL AFTER `appendSigningSignatureToPDF`;
			]]>
		</Query>
	</Script>
	
	<Script version="128">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_statuses` 
					ADD COLUMN `newExternalMessagesDisallowed` TINYINT(1) NOT NULL AFTER `managingTime`,
					ADD COLUMN `newExternalMessagesAllowedDays` INT(10) UNSIGNED AFTER `newExternalMessagesDisallowed`;
			]]>
		</Query>
		<Query>
			<![CDATA[
				UPDATE `flowengine_flow_statuses`
					SET `newExternalMessagesDisallowed` = 1
					WHERE `contentType` = 'ARCHIVED' 
					AND `flowID` IN (
						SELECT `flowID`
						FROM `flowengine_flows`
						WHERE `hideExternalMessagesOnArchivedFlowInstances` = 1
					);
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows`
					DROP COLUMN `hideExternalMessagesOnArchivedFlowInstances`;
			]]>
		</Query>
	</Script>
	
	<Script version="129">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_overview_attributes` CHANGE COLUMN `value` `value` VARCHAR(1024) NOT NULL AFTER `name`;
			]]>
		</Query>
	</Script>
	
	<Script version="130">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_family_automanager_status_rules` ADD COLUMN `sendNotification` TINYINT(3) UNSIGNED NOT NULL AFTER `removePreviousManagers`;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_family_automanager_status_rule_emails` (
					`ruleID` INT(10) UNSIGNED NOT NULL,
					`email` VARCHAR(255) NOT NULL,
					PRIMARY KEY (`ruleID`, `email`),
					CONSTRAINT `FK_flowengine_flow_family_automanager_status_rule_emails_1` FOREIGN KEY (`ruleID`) REFERENCES `flowengine_flow_family_automanager_status_rules` (`ruleID`)
					 ON UPDATE CASCADE
					 ON DELETE CASCADE
				)
				ENGINE=InnoDB;
			]]>
		</Query>
	</Script>
	
	<Script version="131">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_standard_statuses`
					ADD COLUMN `sortIndex` SMALLINT UNSIGNED NOT NULL AFTER `contentType`;
			]]>
		</Query>
		<Query>
			<![CDATA[
				UPDATE `flowengine_standard_statuses`
				SET `sortIndex` = 
					CASE `statusID`
						WHEN 1 THEN 1
						WHEN 2 THEN 2
						WHEN 6 THEN 3
						WHEN 4 THEN 4
						WHEN 5 THEN 5
						WHEN 3 THEN 6
					END
				WHERE	(`statusID` = 1 AND `name` = 'Sparat')
				OR 		(`statusID` = 2 AND `name` = 'Inskickat')
				OR		(`statusID` = 6 AND `name` = 'Väntar på komplettering')
				OR		(`statusID` = 4 AND `name` = 'Kompletterat')
				OR		(`statusID` = 5 AND `name` = 'Under behandling')
				OR		(`statusID` = 3 AND `name` = 'Arkiverat');
			]]>
		</Query>
	</Script>
	
	<Script version="132">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_family_manager_groups`
					ADD CONSTRAINT `FK_flowengine_flow_family_manager_groups_1` UNIQUE (`flowFamilyID`, `groupID`);
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_family_manager_groups`
					DROP PRIMARY KEY;
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_family_manager_groups`
					ADD COLUMN `managerGroupID` INTEGER UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT FIRST;
			]]>
		</Query>
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_family_manager_group_notification_addresses` (
				  `managerGroupID` INTEGER UNSIGNED NOT NULL,
				  `email` VARCHAR(255) NOT NULL,
				  PRIMARY KEY (`managerGroupID`, `email`),
				  CONSTRAINT `FK_flowengine_flow_family_manager_group_not_addresses_1` FOREIGN KEY `FK_flowengine_flow_family_manager_group_not_addresses_1` (`managerGroupID`)
				    REFERENCES `flowengine_flow_family_manager_groups` (`managerGroupID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
	</Script>
	
	<Script version="133">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_statuses` ADD COLUMN `isNotRestrictedAdminDeletable` TINYINT(1) NOT NULL AFTER `isAdminDeletable`;
			]]>
		</Query>
	</Script>
	
	<Script version="134">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_statuses` CHANGE COLUMN `isNotRestrictedAdminDeletable` `isRestrictedAdminDeletable` TINYINT(1) NOT NULL; 
			]]>
		</Query>
		<Query>
			<![CDATA[
				UPDATE `flowengine_flow_statuses`  
				SET `isRestrictedAdminDeletable` = `isAdminDeletable`;
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_standard_statuses`
					ADD COLUMN `isRestrictedAdminDeletable` TINYINT(1) NOT NULL AFTER `isAdminDeletable`;
			]]>
		</Query>
		<Query>
			<![CDATA[
				UPDATE `flowengine_standard_statuses`  
				SET `isRestrictedAdminDeletable` = `isAdminDeletable`;
			]]>
		</Query>
	</Script>

	<Script version="135">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_families` ADD COLUMN `contactWebAddress` VARCHAR(1024) AFTER `contactPhone`;
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_families` MODIFY COLUMN `loginHelpLinkURL` VARCHAR(1024);
			]]>
		</Query>
	</Script>
	
	<Script version="136">
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_standard_status_groups` (
					`statusGroupID` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
					`name` VARCHAR(255) NOT NULL,
					PRIMARY KEY (`statusGroupID`)
				)
				COLLATE='latin1_swedish_ci'
				ENGINE=InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				INSERT INTO `flowengine_standard_status_groups` (statusGroupID, name) VALUES (1, "Standard");
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_standard_statuses`
				ADD COLUMN `statusGroupID` INT(10) UNSIGNED NOT NULL AFTER `statusID`;
			]]>
		</Query>
		<Query>
			<![CDATA[
				UPDATE `flowengine_standard_statuses` SET `statusGroupID` = 1;
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_standard_statuses`
				ADD CONSTRAINT `FK_flowengine_standard_statuses_1` FOREIGN KEY (`statusGroupID`)
					REFERENCES `flowengine_standard_status_groups` (`statusGroupID`) ON UPDATE CASCADE ON DELETE CASCADE;
			]]>
		</Query>
	</Script>
	
	<Script version="137">
		<Query>
			<![CDATA[
				INSERT INTO `flowengine_standard_status_groups` (name) VALUES
					('Enkel'),
					('Betalning'),
					('Betalning och komplettering'),
					('Flerpartsignering'),
					('Flerpartsignering och betalning'),
					('Flerpartsignering och komplettering'),
					('Flerpartsignering, betalning och komplettering');
			]]>
		</Query>
		<Query>
			<![CDATA[
				INSERT INTO `flowengine_standard_statuses` (`statusGroupID`, `name`, `description`, `managingTime`, `isUserMutable`, `isUserDeletable`, `isAdminMutable`, `isAdminDeletable`, `isRestrictedAdminDeletable`, `contentType`, `sortIndex`)
				VALUES
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Enkel"), 'Sparat', NULL, NULL, 1, 1, 0, 0, 0, 'NEW', 0),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Enkel"), 'Inskickat', NULL, NULL, 0, 0, 1, 1, 0, 'SUBMITTED', 1),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Enkel"), 'Under behandling', NULL, NULL, 0, 0, 1, 1, 0, 'IN_PROGRESS', 2),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Enkel"), 'Arkiverat', NULL, NULL, 0, 0, 0, 0, 0, 'ARCHIVED', 3),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Betalning"), 'Sparat', NULL, NULL, 1, 1, 0, 0, 0, 'NEW', 0),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Betalning"), 'Väntar på betalning', NULL, NULL, 0, 0, 0, 0, 0, 'WAITING_FOR_PAYMENT', 1),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Betalning"), 'Inskickat', NULL, NULL, 0, 0, 1, 1, 0, 'SUBMITTED', 2),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Betalning"), 'Under behandling', NULL, NULL, 0, 0, 1, 1, 0, 'IN_PROGRESS', 3),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Betalning"), 'Arkiverat', NULL, NULL, 0, 0, 0, 0, 0, 'ARCHIVED', 4),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Betalning och komplettering"), 'Sparat', NULL, NULL, 1, 1, 0, 0, 0, 'NEW', 0),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Betalning och komplettering"), 'Väntar på betalning', NULL, NULL, 0, 0, 0, 0, 0, 'WAITING_FOR_PAYMENT', 1),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Betalning och komplettering"), 'Inskickat', NULL, NULL, 0, 0, 1, 1, 0, 'SUBMITTED', 2),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Betalning och komplettering"), 'Väntar på komplettering', NULL, NULL, 1, 0, 0, 0, 0, 'WAITING_FOR_COMPLETION', 3),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Betalning och komplettering"), 'Kompletterat', NULL, NULL, 0, 0, 1, 1, 0, 'SUBMITTED', 4),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Betalning och komplettering"), 'Under behandling', NULL, NULL, 0, 0, 1, 1, 0, 'IN_PROGRESS', 5),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Betalning och komplettering"), 'Arkiverat', NULL, NULL, 0, 0, 0, 0, 0, 'ARCHIVED', 6),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering"), 'Sparat', NULL, NULL, 1, 1, 0, 0, 0, 'NEW', 0),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering"), 'Väntar på flerpartsignering', NULL, NULL, 0, 1, 0, 0, 0, 'WAITING_FOR_MULTISIGN', 1),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering"), 'Inskickat', NULL, NULL, 0, 0, 1, 1, 0, 'SUBMITTED', 2),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering"), 'Under behandling', NULL, NULL, 0, 0, 1, 1, 0, 'IN_PROGRESS', 3),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering"), 'Arkiverat', NULL, NULL, 0, 0, 0, 0, 0, 'ARCHIVED', 4),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering och betalning"), 'Sparat', NULL, NULL, 1, 1, 0, 0, 0, 'NEW', 0),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering och betalning"), 'Väntar på flerpartsignering', NULL, NULL, 0, 1, 0, 0, 0, 'WAITING_FOR_MULTISIGN', 1),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering och betalning"), 'Väntar på betalning', NULL, NULL, 0, 0, 0, 0, 0, 'WAITING_FOR_PAYMENT', 2),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering och betalning"), 'Inskickat', NULL, NULL, 0, 0, 1, 1, 0, 'SUBMITTED', 3),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering och betalning"), 'Under behandling', NULL, NULL, 0, 0, 1, 1, 0, 'IN_PROGRESS', 4),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering och betalning"), 'Arkiverat', NULL, NULL, 0, 0, 0, 0, 0, 'ARCHIVED', 5),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering och komplettering"), 'Sparat', NULL, NULL, 1, 1, 0, 0, 0, 'NEW', 0),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering och komplettering"), 'Väntar på flerpartsignering', NULL, NULL, 0, 1, 0, 0, 0, 'WAITING_FOR_MULTISIGN', 1),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering och komplettering"), 'Inskickat', NULL, NULL, 0, 0, 1, 1, 0, 'SUBMITTED', 2),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering och komplettering"), 'Väntar på komplettering', NULL, NULL, 1, 0, 0, 0, 0, 'WAITING_FOR_COMPLETION', 3),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering och komplettering"), 'Kompletterat', NULL, NULL, 0, 0, 1, 1, 0, 'SUBMITTED', 4),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering och komplettering"), 'Under behandling', NULL, NULL, 0, 0, 1, 1, 0, 'IN_PROGRESS', 5),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering och komplettering"), 'Arkiverat', NULL, NULL, 0, 0, 0, 0, 0, 'ARCHIVED', 6),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering, betalning och komplettering"), 'Sparat', NULL, NULL, 1, 1, 0, 0, 0, 'NEW', 0),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering, betalning och komplettering"), 'Väntar på flerpartsignering', NULL, NULL, 0, 1, 0, 0, 0, 'WAITING_FOR_MULTISIGN', 1),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering, betalning och komplettering"), 'Väntar på betalning', NULL, NULL, 0, 0, 0, 0, 0, 'WAITING_FOR_PAYMENT', 2),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering, betalning och komplettering"), 'Inskickat', NULL, NULL, 0, 0, 1, 1, 0, 'SUBMITTED', 3),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering, betalning och komplettering"), 'Väntar på komplettering', NULL, NULL, 1, 0, 0, 0, 0, 'WAITING_FOR_COMPLETION', 4),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering, betalning och komplettering"), 'Kompletterat', NULL, NULL, 0, 0, 1, 1, 0, 'SUBMITTED', 5),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering, betalning och komplettering"), 'Under behandling', NULL, NULL, 0, 0, 1, 1, 0, 'IN_PROGRESS', 6),
					((SELECT statusGroupID FROM flowengine_standard_status_groups WHERE name = "Flerpartsignering, betalning och komplettering"), 'Arkiverat', NULL, NULL, 0, 0, 0, 0, 0, 'ARCHIVED', 7);
			]]>
		</Query>
		<Query>
			<![CDATA[
				INSERT INTO `flowengine_default_standard_statuses` (`actionID`, `statusID`) VALUES
					('com.nordicpeak.flowengine.FlowBrowserModule.save',                  (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Enkel" AND s.name = "Sparat")),
					('com.nordicpeak.flowengine.FlowBrowserModule.submit',                (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Enkel" AND s.name = "Inskickat")),
					('com.nordicpeak.flowengine.FlowBrowserModule.save',                  (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Betalning" AND s.name = "Sparat")),
					('com.nordicpeak.flowengine.FlowBrowserModule.pay',                   (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Betalning" AND s.name = "Väntar på betalning")),
					('com.nordicpeak.flowengine.FlowBrowserModule.submit',                (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Betalning" AND s.name = "Inskickat")),
					('com.nordicpeak.flowengine.FlowBrowserModule.save',                  (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Betalning och komplettering" AND s.name = "Sparat")),
					('com.nordicpeak.flowengine.FlowBrowserModule.pay',                   (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Betalning och komplettering" AND s.name = "Väntar på betalning")),
					('com.nordicpeak.flowengine.FlowBrowserModule.submit',                (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Betalning och komplettering" AND s.name = "Inskickat")),
					('com.nordicpeak.flowengine.UserFlowInstanceModule.submitcompletion', (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Betalning och komplettering" AND s.name = "Kompletterat")),
					('com.nordicpeak.flowengine.FlowBrowserModule.save',                  (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Flerpartsignering" AND s.name = "Sparat")),
					('com.nordicpeak.flowengine.FlowBrowserModule.multisigning',          (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Flerpartsignering" AND s.name = "Väntar på flerpartsignering")),
					('com.nordicpeak.flowengine.FlowBrowserModule.submit',                (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Flerpartsignering" AND s.name = "Inskickat")),
					('com.nordicpeak.flowengine.FlowBrowserModule.save',                  (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Flerpartsignering och betalning" AND s.name = "Sparat")),
					('com.nordicpeak.flowengine.FlowBrowserModule.multisigning',          (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Flerpartsignering och betalning" AND s.name = "Väntar på flerpartsignering")),
					('com.nordicpeak.flowengine.FlowBrowserModule.pay',                   (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Flerpartsignering och betalning" AND s.name = "Väntar på betalning")),
					('com.nordicpeak.flowengine.FlowBrowserModule.submit',                (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Flerpartsignering och betalning" AND s.name = "Inskickat")),
					('com.nordicpeak.flowengine.FlowBrowserModule.save',                  (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Flerpartsignering och komplettering" AND s.name = "Sparat")),
					('com.nordicpeak.flowengine.FlowBrowserModule.multisigning',          (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Flerpartsignering och komplettering" AND s.name = "Väntar på flerpartsignering")),
					('com.nordicpeak.flowengine.FlowBrowserModule.submit',                (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Flerpartsignering och komplettering" AND s.name = "Inskickat")),
					('com.nordicpeak.flowengine.UserFlowInstanceModule.submitcompletion', (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Flerpartsignering och komplettering" AND s.name = "Kompletterat")),
					('com.nordicpeak.flowengine.FlowBrowserModule.save',                  (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Flerpartsignering, betalning och komplettering" AND s.name = "Sparat")),
					('com.nordicpeak.flowengine.FlowBrowserModule.multisigning',          (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Flerpartsignering, betalning och komplettering" AND s.name = "Väntar på flerpartsignering")),
					('com.nordicpeak.flowengine.FlowBrowserModule.pay',                   (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Flerpartsignering, betalning och komplettering" AND s.name = "Väntar på betalning")),
					('com.nordicpeak.flowengine.FlowBrowserModule.submit',                (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Flerpartsignering, betalning och komplettering" AND s.name = "Inskickat")),
					('com.nordicpeak.flowengine.UserFlowInstanceModule.submitcompletion', (SELECT statusID FROM flowengine_standard_statuses s INNER JOIN flowengine_standard_status_groups g on s.statusGroupID = g.statusGroupID WHERE g.name = "Flerpartsignering, betalning och komplettering" AND s.name = "Kompletterat"));
			]]>
		</Query>
	</Script>

	<Script version="138">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_internal_message_attachments` MODIFY COLUMN `data` LONGBLOB DEFAULT NULL;
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_external_message_attachments` MODIFY COLUMN `data` LONGBLOB DEFAULT NULL;
			]]>
		</Query>
	</Script>
	
	<Script version="139">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `hideFromManager` BOOLEAN NOT NULL AFTER `hideFromUser`;
			]]>
		</Query>
	</Script>
	
	<Script version="140">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_standard_statuses` 
					ADD COLUMN `newExternalMessagesDisallowed` TINYINT(1) NOT NULL AFTER `managingTime`,
					ADD COLUMN `newExternalMessagesAllowedDays` INT(10) UNSIGNED AFTER `newExternalMessagesDisallowed`,
					ADD COLUMN `addExternalMessage` TINYINT(1) NOT NULL AFTER `newExternalMessagesAllowedDays`,
					ADD COLUMN `requireSigning` TINYINT(1) NOT NULL AFTER `isRestrictedAdminDeletable`,
					ADD COLUMN `useAccessCheck` TINYINT(1) NOT NULL AFTER `requireSigning`;
			]]>
		</Query>
	</Script>
	
	<Script version="141">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_aborted_flow_instances`
					ADD COLUMN `flowInstanceID` INT(10) UNSIGNED NULL DEFAULT NULL AFTER `abortID`,
					ADD INDEX `flowInstanceID` (`flowInstanceID`);
			]]>
		</Query>
	</Script>

	<Script version="142">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_forms` ADD COLUMN `downloadFormButtonText` VARCHAR(24) DEFAULT NULL AFTER `showExternalLinkIcon`;
			]]>
		</Query>
	</Script>

	<Script version="143">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_family_external_message_templates` RENAME TO `flowengine_flow_family_message_templates`;
			]]>
		</Query>	
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_family_message_templates` ADD COLUMN `type` VARCHAR(255) DEFAULT 'EXTERNAL';
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_statuses` CHANGE COLUMN `defaultExternalMessageTemplateID` `defaultMessageTemplateID` INT(10) UNSIGNED;
			]]>
		</Query>	
	</Script>
	
	<Script version="144">
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_type_flow_published_notification_users` (
				  `flowTypeID` INTEGER UNSIGNED NOT NULL,
				  `userID` INTEGER UNSIGNED NOT NULL,
				  PRIMARY KEY (`flowTypeID`, `userID`),
				  CONSTRAINT `FK_flowengine_flow_type_flow_published_notification_users_1` FOREIGN KEY (`flowTypeID`)
				    REFERENCES `flowengine_flow_types` (`flowTypeID`)
				    ON DELETE CASCADE
				    ON UPDATE CASCADE
				)
				ENGINE = InnoDB;
			]]>
		</Query>
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_types` ADD COLUMN `onlyNotifyOnNewFlowPublications` TINYINT(1) UNSIGNED NOT NULL AFTER `useIconOnAllFlows`;
			]]>
		</Query>		
	</Script>	
	
	<Script version="145">
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_instance_query_search_values` (
					`querySearchValueID` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
					`flowInstanceID` INT(10) UNSIGNED NOT NULL,
					`queryID` INT(10) UNSIGNED NOT NULL,
					`searchValue` VARCHAR(255) NOT NULL,
					PRIMARY KEY (`querySearchValueID`),
					CONSTRAINT `FK_flowengine_flow_instance_query_search_values_1` FOREIGN KEY (`flowInstanceID`) REFERENCES `flowengine_flow_instances` (`flowInstanceID`) ON UPDATE CASCADE ON DELETE CASCADE
				)
				COLLATE='latin1_swedish_ci'
				ENGINE=InnoDB;
			]]>
		</Query>
	</Script>	

	<Script version="146">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_statuses` CHANGE COLUMN `defaultMessageTemplateID` `defaultExternalMessageTemplateID` INT(10) UNSIGNED;
			]]>
		</Query>	
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_statuses`
					ADD COLUMN `addInternalMessage` TINYINT(1) NOT NULL AFTER `defaultExternalMessageTemplateID`,
					ADD COLUMN `defaultInternalMessageTemplateID` INT(10) UNSIGNED AFTER `addInternalMessage`;
			]]>
		</Query>	
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_standard_statuses` ADD COLUMN `addInternalMessage` TINYINT(1) NOT NULL AFTER `addExternalMessage`;
			]]>
		</Query>
	</Script>
	
	<Script version="147">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_notifications` ADD INDEX `index_2`(`flowInstanceID`);
			]]>
		</Query>	
	</Script>	
	
	<Script version="148">
		<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flow_instances` ADD COLUMN `lastExpiredNotificationSent` TIMESTAMP NULL AFTER `lastStatusChange`;
			]]>
		</Query>	
	</Script>	
	
	<Script version="149">
		<Query>
			<![CDATA[
				CREATE TABLE `flowengine_flow_family_management_info` (
					`flowFamilyID` INT(10) UNSIGNED NOT NULL,
					`processOwner` VARCHAR(255),
					`flowResponsible` VARCHAR(255),
					`informationResponsible` VARCHAR(255),
					`status` VARCHAR(255),
					`organization` VARCHAR(255),
					`lastReviewed` DATE,
					`aboutFlow` TEXT,
					PRIMARY KEY (`flowFamilyID`),
					CONSTRAINT `FK_flowengine_flow_family_management_info_1` FOREIGN KEY (`flowFamilyID`) REFERENCES `flowengine_flow_families` (`flowFamilyID`) ON UPDATE CASCADE ON DELETE CASCADE
				)
				COLLATE='latin1_swedish_ci'
				ENGINE=InnoDB;
			]]>
		</Query>
	</Script>
	<Script version="150">
	<Query>
			<![CDATA[
				ALTER TABLE `flowengine_flows` ADD COLUMN `lockSubmitForUnpublishedSavedFlow` BOOLEAN NOT NULL default FALSE AFTER `enabled` ;
			]]>
		</Query>
	</Script>
</DBScripts>